var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.useScreenReaderEnabled=useScreenReaderEnabled;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");function useScreenReaderEnabled(){var _React$useState=_react.default.useState(false),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),enabled=_React$useState2[0],setEnabled=_React$useState2[1];var mountedRef=_react.default.useRef(false);var handleSetEnabled=function handleSetEnabled(value){if(mountedRef.current){setEnabled(value);}};_react.default.useEffect(function(){mountedRef.current=true;function setInitialValue(){var res;return _regenerator.default.async(function setInitialValue$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(_reactNative.AccessibilityInfo.isScreenReaderEnabled());case 2:res=_context.sent;handleSetEnabled(res);case 4:case"end":return _context.stop();}}},null,null,null,Promise);}var handler=_reactNative.AccessibilityInfo.addEventListener('screenReaderChanged',function(event){handleSetEnabled(event);});setInitialValue();return function(){mountedRef.current=false;_reactNative.AccessibilityInfo.removeEventListener('screenReaderChanged',handler);};});return enabled;}
//# sourceMappingURL=useScreenReaderEnabled.js.map