"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withExpoUpdates = void 0;
const config_plugins_1 = require("@expo/config-plugins");
// Local unversioned updates plugin
const packageName = 'expo-updates';
const withExpoUpdates = (config, props) => {
    return config_plugins_1.withStaticPlugin(config, {
        _isLegacyPlugin: true,
        // Pass props to the static plugin if it exists.
        plugin: [packageName, props],
        // If the static plugin isn't found, use the unversioned one.
        fallback: config_plugins_1.createRunOncePlugin(config => withUnversionedUpdates(config, props), packageName),
    });
};
exports.withExpoUpdates = withExpoUpdates;
const withUnversionedUpdates = (config, props) => {
    config = config_plugins_1.AndroidConfig.Updates.withUpdates(config, props);
    config = config_plugins_1.IOSConfig.Updates.withUpdates(config, props);
    return config;
};
exports.default = exports.withExpoUpdates;
//# sourceMappingURL=expo-updates.js.map