"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withAndroidSplashScreen = void 0;
const config_plugins_1 = require("@expo/config-plugins");
const getAndroidSplashConfig_1 = require("./getAndroidSplashConfig");
const withAndroidSplashDrawables_1 = require("./withAndroidSplashDrawables");
const withAndroidSplashImages_1 = require("./withAndroidSplashImages");
const withAndroidSplashMainActivity_1 = require("./withAndroidSplashMainActivity");
const withAndroidSplashStyles_1 = require("./withAndroidSplashStyles");
const withAndroidSplashScreen = config => {
    var _a, _b, _c, _d;
    const splashConfig = getAndroidSplashConfig_1.getAndroidSplashConfig(config);
    // Update the android status bar to match the splash screen
    // androidStatusBar applies info to the app activity style.
    const backgroundColor = (splashConfig === null || splashConfig === void 0 ? void 0 : splashConfig.backgroundColor) || '#ffffff';
    if ((_a = config.androidStatusBar) === null || _a === void 0 ? void 0 : _a.backgroundColor) {
        if (backgroundColor.toLowerCase() !== ((_d = (_c = (_b = config.androidStatusBar) === null || _b === void 0 ? void 0 : _b.backgroundColor) === null || _c === void 0 ? void 0 : _c.toLowerCase) === null || _d === void 0 ? void 0 : _d.call(_c))) {
            config_plugins_1.WarningAggregator.addWarningAndroid('androidStatusBar.backgroundColor', 'The androidStatusBar.backgroundColor color conflicts with the splash backgroundColor on Android');
        }
    }
    else {
        if (!config.androidStatusBar)
            config.androidStatusBar = {};
        config.androidStatusBar.backgroundColor = backgroundColor;
    }
    return config_plugins_1.withPlugins(config, [
        withAndroidSplashImages_1.withAndroidSplashImages,
        [withAndroidSplashDrawables_1.withAndroidSplashDrawables, splashConfig],
        withAndroidSplashMainActivity_1.withAndroidSplashMainActivity,
        withAndroidSplashStyles_1.withAndroidSplashStyles,
    ]);
};
exports.withAndroidSplashScreen = withAndroidSplashScreen;
//# sourceMappingURL=withAndroidSplashScreen.js.map