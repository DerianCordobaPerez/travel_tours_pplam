"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getRequiresFullScreen = getRequiresFullScreen;
exports.setRequiresFullScreen = setRequiresFullScreen;
exports.withRequiresFullScreen = void 0;

function _iosPlugins() {
  const data = require("../plugins/ios-plugins");

  _iosPlugins = function () {
    return data;
  };

  return data;
}

function _versions() {
  const data = require("../utils/versions");

  _versions = function () {
    return data;
  };

  return data;
}

const withRequiresFullScreen = (0, _iosPlugins().createInfoPlistPlugin)(setRequiresFullScreen, 'withRequiresFullScreen'); // NOTES: This is defaulted to `true` for now to match the behavior prior to SDK
// 34, but will change to `false` in SDK +43.

exports.withRequiresFullScreen = withRequiresFullScreen;

function getRequiresFullScreen(config) {
  var _config$ios;

  // Yes, the property is called ios.requireFullScreen, without the s - not "requires"
  // This is confusing indeed because the actual property name does have the s
  if ((_config$ios = config.ios) !== null && _config$ios !== void 0 && _config$ios.hasOwnProperty('requireFullScreen')) {
    return !!config.ios.requireFullScreen;
  } else {
    // In SDK 43, the `requireFullScreen` default has been changed to false.
    if ((0, _versions().gteSdkVersion)(config, '43.0.0') // TODO: Uncomment after SDK 43 is released.
    // || !config.sdkVersion
    ) {
        return false;
      }

    return true;
  }
} // Whether requires full screen on iPad


function setRequiresFullScreen(config, infoPlist) {
  return { ...infoPlist,
    UIRequiresFullScreen: getRequiresFullScreen(config)
  };
}
//# sourceMappingURL=RequiresFullScreen.js.map