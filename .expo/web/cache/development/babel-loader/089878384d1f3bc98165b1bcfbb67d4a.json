{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/vianec/Documentos/proyectos/react native/travel_tours_pplam/src/tools/context/user/userContext.context.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { USER_TOKEN } from \"../../../constants\";\nexport var UserContext = React.createContext();\nexport var UserProvider = function UserProvider(_ref) {\n  var children = _ref.children;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      token = _React$useState2[0],\n      setToken = _React$useState2[1];\n\n  React.useEffect(function () {\n    return getTokenizador();\n  });\n\n  var getTokenizador = function getTokenizador() {\n    return _regeneratorRuntime.async(function getTokenizador$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = setToken;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(USER_TOKEN));\n\n          case 3:\n            _context.t1 = _context.sent;\n            return _context.abrupt(\"return\", (0, _context.t0)(_context.t1));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var setTokenizador = function setTokenizador(token) {\n    return _regeneratorRuntime.async(function setTokenizador$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.t0 = setToken;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(USER_TOKEN, token));\n\n          case 3:\n            _context2.t1 = _context2.sent;\n            return _context2.abrupt(\"return\", (0, _context2.t0)(_context2.t1));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var removeTokenizador = function removeTokenizador() {\n    return _regeneratorRuntime.async(function removeTokenizador$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(USER_TOKEN));\n\n          case 2:\n            setToken(null);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(UserContext.Provider, {\n    value: {\n      token: token,\n      setTokenizador: setTokenizador,\n      removeTokenizador: removeTokenizador\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, children);\n};","map":{"version":3,"sources":["/home/vianec/Documentos/proyectos/react native/travel_tours_pplam/src/tools/context/user/userContext.context.js"],"names":["React","AsyncStorage","USER_TOKEN","UserContext","createContext","UserProvider","children","useState","token","setToken","useEffect","getTokenizador","getItem","setTokenizador","setItem","removeTokenizador","removeItem"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,SAAQC,UAAR;AAGA,OAAO,IAAMC,WAAW,GAAGH,KAAK,CAACI,aAAN,EAApB;AAOP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAgB;AAAA,MAAdC,QAAc,QAAdA,QAAc;;AAG1C,wBAA0BN,KAAK,CAACO,QAAN,CAAe,IAAf,CAA1B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAEAT,EAAAA,KAAK,CAACU,SAAN,CAAgB;AAAA,WAAMC,cAAc,EAApB;AAAA,GAAhB;;AAGA,MAAMA,cAAc,GAAG,SAAjBA,cAAiB;AAAA;AAAA;AAAA;AAAA;AAAA,0BACrBF,QADqB;AAAA;AAAA,6CACNR,YAAY,CAACW,OAAb,CAAqBV,UAArB,CADM;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAIA,MAAMW,cAAc,GAAG,SAAjBA,cAAiB,CAAOL,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA,2BACrBC,QADqB;AAAA;AAAA,6CACNR,YAAY,CAACa,OAAb,CAAqBZ,UAArB,EAAiCM,KAAjC,CADM;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAIA,MAAMO,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAClBd,YAAY,CAACe,UAAb,CAAwBd,UAAxB,CADkB;;AAAA;AAExBO,YAAAA,QAAQ,CAAC,IAAD,CAAR;;AAFwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AAKA,SACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACD,MAAAA,KAAK,EAALA,KAAD;AAAQK,MAAAA,cAAc,EAAdA,cAAR;AAAwBE,MAAAA,iBAAiB,EAAjBA;AAAxB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,QADH,CADF;AAKD,CA1BM","sourcesContent":["import React from 'react'\nimport AsyncStorage from '@react-native-async-storage/async-storage'\nimport {USER_TOKEN} from '~/constants/index'\n\n// Creacion y exportacion del contexto del usuario\nexport const UserContext = React.createContext()\n\n/**\n * Contexto sobre la sesion del usuario\n * \n * @param {*} props\n*/\nexport const UserProvider = ({children}) => {\n\n  // token que usaremos para guardar el inicio de sesion del usuario\n  const [token, setToken] = React.useState(null)\n\n  React.useEffect(() => getTokenizador())\n\n  // Obtenemos el token almacenado del usuario\n  const getTokenizador = async () =>\n    setToken(await AsyncStorage.getItem(USER_TOKEN))\n\n  // Establece el token del usuario\n  const setTokenizador = async (token) =>\n    setToken(await AsyncStorage.setItem(USER_TOKEN, token))\n\n  // Elimina el token almacenado\n  const removeTokenizador = async () => {\n    await AsyncStorage.removeItem(USER_TOKEN)\n    setToken(null)\n  }\n\n  return (\n    <UserContext.Provider value={{token, setTokenizador, removeTokenizador}}>\n      {children}\n    </UserContext.Provider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}