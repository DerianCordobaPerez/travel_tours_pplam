{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.TabContext = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Pressable = require(\"../../primitives/Pressable\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _Context = require(\"./Context\");\n\nvar _utils = require(\"../../../theme/tools/utils\");\n\nvar _tabs = require(\"@react-native-aria/tabs\");\n\nvar _interactions = require(\"@react-native-aria/interactions\");\n\nvar _utils2 = require(\"../../../utils\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash.merge\"));\n\nvar _theme = require(\"../../../theme\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Tabs/Tab.tsx\";\n\nvar TabContext = (0, _react.createContext)({});\nexports.TabContext = TabContext;\n\nvar Tab = function Tab(_ref2, ref) {\n  var children = _ref2.children,\n      isDisabled = _ref2.isDisabled,\n      style = _ref2.style,\n      _active = _ref2._active,\n      _disabled = _ref2._disabled,\n      item = _ref2.item,\n      props = (0, _objectWithoutProperties2.default)(_ref2, [\"children\", \"isDisabled\", \"style\", \"_active\", \"_disabled\", \"item\"]);\n  var newProps = (0, _utils.omitUndefined)(props);\n\n  var _React$useContext = _react.default.useContext(_Context.TabsContext),\n      inactiveTabStyle = _React$useContext.inactiveTabStyle,\n      activeTabStyle = _React$useContext.activeTabStyle,\n      state = _React$useContext.state,\n      isFitted = _React$useContext.isFitted;\n\n  var tabRef = _react.default.useRef(null);\n\n  var _ref = _react.default.useRef(null);\n\n  var _useHover = (0, _interactions.useHover)({}, _ref),\n      isHovered = _useHover.isHovered;\n\n  var isSelected = state.selectedKey === item.key;\n\n  var _useTab = (0, _tabs.useTab)({\n    item: item,\n    isDisabled: isDisabled\n  }, state, tabRef),\n      tabProps = _useTab.tabProps;\n\n  _react.default.useEffect(function () {\n    if (isDisabled) {\n      state.disabledKeys.add(item.key);\n    } else {\n      state.disabledKeys.delete(item.key);\n    }\n  }, [isDisabled, item.key, state.disabledKeys]);\n\n  var tabStyle = isSelected ? activeTabStyle : inactiveTabStyle;\n  var _hover = tabStyle._hover,\n      remainingTabStyle = (0, _objectWithoutProperties2.default)(tabStyle, [\"_hover\"]);\n  var mergedProps = (0, _lodash.default)(remainingTabStyle, newProps);\n\n  var _themeTools$extractIn = _theme.themeTools.extractInObject(mergedProps, ['margin', 'm', 'marginTop', 'mt', 'marginRight', 'mr', 'marginBottom', 'mb', 'marginLeft', 'ml', 'marginX', 'mx', 'marginY', 'my']),\n      _themeTools$extractIn2 = (0, _slicedToArray2.default)(_themeTools$extractIn, 2),\n      marginalProps = _themeTools$extractIn2[0],\n      remainingProps = _themeTools$extractIn2[1];\n\n  return _react.default.createElement(TabContext.Provider, {\n    value: {\n      isSelected: isSelected\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_Pressable.Pressable, (0, _extends2.default)({\n    disabled: isDisabled,\n    ref: (0, _utils2.mergeRefs)([tabRef, _ref, ref]),\n    flex: isFitted ? 1 : undefined\n  }, tabProps, marginalProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_Box.default, (0, _extends2.default)({}, remainingProps, isHovered && _hover, {\n    style: [style, isSelected && _active, isDisabled && _disabled],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), children)));\n};\n\nvar _default = _react.default.memo(_react.default.forwardRef(Tab));\n\nexports.default = _default;","map":{"version":3,"sources":["Tab.tsx"],"names":["TabContext","Tab","children","isDisabled","style","_active","_disabled","item","props","newProps","inactiveTabStyle","activeTabStyle","state","isFitted","React","TabsContext","tabRef","_ref","isHovered","isSelected","tabProps","tabStyle","_hover","remainingTabStyle","mergedProps","marginalProps","remainingProps","themeTools"],"mappings":"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","sourcesContent":["import React, { createContext } from 'react';\nimport { Pressable } from '../../primitives/Pressable';\nimport Box from '../../primitives/Box';\nimport { TabsContext } from './Context';\nimport type { ITabProps, ITabsContextProps } from './types';\nimport { omitUndefined } from '../../../theme/tools/utils';\nimport { useTab } from '@react-native-aria/tabs';\nimport { useHover } from '@react-native-aria/interactions';\nimport { mergeRefs } from '../../../utils';\nimport merge from 'lodash.merge';\nimport { themeTools } from '../../../theme';\n\nexport const TabContext = createContext({});\n\nconst Tab = (\n  {\n    children,\n    isDisabled,\n    style,\n    _active,\n    _disabled,\n    item,\n    ...props\n  }: ITabProps,\n  ref?: any\n) => {\n  const newProps = omitUndefined(props);\n  const {\n    inactiveTabStyle,\n    activeTabStyle,\n    state,\n    isFitted,\n  }: ITabsContextProps = React.useContext(TabsContext);\n  let tabRef = React.useRef<any>(null);\n  const _ref = React.useRef(null);\n  const { isHovered } = useHover({}, _ref);\n  let isSelected = state.selectedKey === item.key;\n\n  let { tabProps } = useTab({ item, isDisabled }, state, tabRef);\n\n  React.useEffect(() => {\n    if (isDisabled) {\n      state.disabledKeys.add(item.key);\n    } else {\n      state.disabledKeys.delete(item.key);\n    }\n  }, [isDisabled, item.key, state.disabledKeys]);\n\n  const tabStyle = isSelected ? activeTabStyle : inactiveTabStyle;\n  const { _hover, ...remainingTabStyle } = tabStyle;\n  const mergedProps = merge(remainingTabStyle, newProps);\n  const [\n    marginalProps,\n    remainingProps,\n  ] = themeTools.extractInObject(mergedProps, [\n    'margin',\n    'm',\n    'marginTop',\n    'mt',\n    'marginRight',\n    'mr',\n    'marginBottom',\n    'mb',\n    'marginLeft',\n    'ml',\n    'marginX',\n    'mx',\n    'marginY',\n    'my',\n  ]);\n  return (\n    <TabContext.Provider\n      value={{\n        isSelected,\n      }}\n    >\n      <Pressable\n        disabled={isDisabled}\n        ref={mergeRefs([tabRef, _ref, ref])}\n        flex={isFitted ? 1 : undefined}\n        {...tabProps}\n        {...marginalProps}\n      >\n        <Box\n          {...remainingProps}\n          {...(isHovered && _hover)}\n          style={[style, isSelected && _active, isDisabled && _disabled]}\n        >\n          {children}\n        </Box>\n      </Pressable>\n    </TabContext.Provider>\n  );\n};\n\nexport default React.memo(React.forwardRef(Tab));\n"]},"metadata":{},"sourceType":"script"}