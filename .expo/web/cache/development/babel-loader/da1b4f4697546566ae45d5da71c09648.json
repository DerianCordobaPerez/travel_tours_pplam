{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.SelectContext = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _Actionsheet = require(\"../../composites/Actionsheet\");\n\nvar _Box = _interopRequireDefault(require(\"../Box\"));\n\nvar _Input = require(\"../Input\");\n\nvar _focus = require(\"@react-native-aria/focus\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _useThemeProps = require(\"../../../hooks/useThemeProps\");\n\nvar _interactions = require(\"@react-native-aria/interactions\");\n\nvar _utils = require(\"../../../utils\");\n\nvar _FormControl = require(\"../../composites/FormControl\");\n\nvar _utils2 = require(\"../../../theme/tools/utils\");\n\nvar _Icons = require(\"../Icon/Icons\");\n\nvar _ScrollView = require(\"../../basic/ScrollView\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/primitives/Select/Select.tsx\";\n\nvar unstyledSelecWebtStyles = {\n  width: '100%',\n  height: '100%',\n  appearance: 'none',\n  WebkitAppearance: 'none',\n  MozAppearance: 'none'\n};\n\nvar SelectContext = _react.default.createContext({\n  onValueChange: function onValueChange() {},\n  selectedValue: null,\n  _selectedItem: {},\n  _item: {}\n});\n\nexports.SelectContext = SelectContext;\n\nvar Select = function Select(_ref2, ref) {\n  var onValueChange = _ref2.onValueChange,\n      selectedValue = _ref2.selectedValue,\n      children = _ref2.children,\n      dropdownIcon = _ref2.dropdownIcon,\n      dropdownCloseIcon = _ref2.dropdownCloseIcon,\n      dropdownOpenIcon = _ref2.dropdownOpenIcon,\n      placeholder = _ref2.placeholder,\n      accessibilityLabel = _ref2.accessibilityLabel,\n      defaultValue = _ref2.defaultValue,\n      size = _ref2.size,\n      _item = _ref2._item,\n      _selectedItem = _ref2._selectedItem,\n      wrapperRef = _ref2.wrapperRef,\n      props = (0, _objectWithoutProperties2.default)(_ref2, [\"onValueChange\", \"selectedValue\", \"children\", \"dropdownIcon\", \"dropdownCloseIcon\", \"dropdownOpenIcon\", \"placeholder\", \"accessibilityLabel\", \"defaultValue\", \"size\", \"_item\", \"_selectedItem\", \"wrapperRef\"]);\n  var selectProps = (0, _FormControl.useFormControl)({\n    isDisabled: props.isDisabled,\n    nativeID: props.nativeID\n  });\n  var isDisabled = selectProps.disabled;\n\n  var _ref = _react.default.useRef(null);\n\n  var themeProps = (0, _useThemeProps.usePropsResolution)('Input', (0, _extends2.default)({}, props, {\n    size: size\n  }));\n\n  var _React$useState = _react.default.useState(false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      isOpen = _React$useState2[0],\n      setIsOpen = _React$useState2[1];\n\n  var _useFocusRing = (0, _focus.useFocusRing)(),\n      focusProps = _useFocusRing.focusProps,\n      isFocusVisible = _useFocusRing.isFocusVisible;\n\n  var _useHover = (0, _interactions.useHover)({\n    isDisabled: isDisabled\n  }, _ref),\n      hoverProps = _useHover.hoverProps,\n      isHovered = _useHover.isHovered;\n\n  var _useControllableState = (0, _hooks.useControllableState)({\n    value: selectedValue,\n    defaultValue: defaultValue,\n    onChange: function onChange(newValue) {\n      onValueChange && onValueChange(newValue);\n      setIsOpen(false);\n    }\n  }),\n      _useControllableState2 = (0, _slicedToArray2.default)(_useControllableState, 2),\n      value = _useControllableState2[0],\n      setValue = _useControllableState2[1];\n\n  var itemsList = _react.default.Children.map(children, function (child) {\n    return {\n      label: child.props.label,\n      value: child.props.value\n    };\n  });\n\n  var selectedItemArray = itemsList.filter(function (item) {\n    return item.value === value;\n  });\n  var selectedItem = selectedItemArray && selectedItemArray.length ? selectedItemArray[0] : null;\n\n  var _usePropsResolution = (0, _useThemeProps.usePropsResolution)('Select', props),\n      variant = _usePropsResolution.variant,\n      customDropdownIconProps = _usePropsResolution.customDropdownIconProps,\n      _actionSheetContent = _usePropsResolution._actionSheetContent,\n      newProps = (0, _objectWithoutProperties2.default)(_usePropsResolution, [\"variant\", \"customDropdownIconProps\", \"_actionSheetContent\"]);\n\n  var _extractInObject = (0, _utils2.extractInObject)(newProps, (0, _toConsumableArray2.default)(_utils2.stylingProps.border)),\n      _extractInObject2 = (0, _slicedToArray2.default)(_extractInObject, 2),\n      borderProps = _extractInObject2[0],\n      remainingProps = _extractInObject2[1];\n\n  var _extractInObject3 = (0, _utils2.extractInObject)(remainingProps, [].concat((0, _toConsumableArray2.default)(_utils2.stylingProps.margin), (0, _toConsumableArray2.default)(_utils2.stylingProps.layout), (0, _toConsumableArray2.default)(_utils2.stylingProps.flexbox), (0, _toConsumableArray2.default)(_utils2.stylingProps.position), (0, _toConsumableArray2.default)(_utils2.stylingProps.background))),\n      _extractInObject4 = (0, _slicedToArray2.default)(_extractInObject3, 2),\n      layoutProps = _extractInObject4[0],\n      nonLayoutProps = _extractInObject4[1];\n\n  var rightIcon = isOpen && dropdownOpenIcon ? dropdownOpenIcon : !isOpen && dropdownCloseIcon ? dropdownCloseIcon : dropdownIcon ? dropdownIcon : _react.default.createElement(_Icons.ChevronDownIcon, (0, _extends2.default)({}, customDropdownIconProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }));\n\n  var commonInput = _react.default.createElement(_Input.Input, (0, _extends2.default)({\n    \"aria-hidden\": true,\n    importantForAccessibility: \"no\",\n    value: selectedItem == null ? void 0 : selectedItem.label,\n    placeholder: placeholder,\n    editable: false,\n    focusable: false,\n    size: size,\n    variant: variant,\n    InputRightElement: rightIcon\n  }, isHovered ? themeProps._hover : {}, nonLayoutProps, borderProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }));\n\n  var handleClose = function handleClose() {\n    return setIsOpen(false);\n  };\n\n  return _react.default.createElement(_Box.default, (0, _extends2.default)({\n    borderWidth: 1,\n    borderColor: \"transparent\"\n  }, layoutProps, {\n    borderRadius: themeProps.borderRadius\n  }, isFocusVisible ? themeProps._focus : {}, {\n    ref: wrapperRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }), _reactNative.Platform.OS === 'web' ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Box.default, {\n    w: \"100%\",\n    h: \"100%\",\n    position: \"absolute\",\n    opacity: \"0\",\n    zIndex: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(\"select\", (0, _extends2.default)({}, selectProps, {\n    disabled: isDisabled\n  }, focusProps, hoverProps, {\n    ref: (0, _utils.mergeRefs)([ref, _ref]),\n    style: unstyledSelecWebtStyles,\n    onChange: function onChange(e) {\n      setValue(e.target.value);\n    },\n    value: value,\n    \"aria-label\": placeholder,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }), children)), commonInput) : _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.Pressable, {\n    onPress: function onPress() {\n      return setIsOpen(true);\n    },\n    disabled: isDisabled,\n    accessibilityLabel: accessibilityLabel,\n    accessibilityRole: \"button\",\n    ref: (0, _utils.mergeRefs)([ref, _ref]),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    pointerEvents: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, commonInput)), _react.default.createElement(_Actionsheet.Actionsheet, {\n    isOpen: isOpen,\n    onClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_Actionsheet.Actionsheet.Content, (0, _extends2.default)({}, _actionSheetContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_ScrollView.ScrollView, {\n    width: \"100%\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, _react.default.createElement(SelectContext.Provider, {\n    value: {\n      onValueChange: setValue,\n      selectedValue: value,\n      _selectedItem: _selectedItem != null ? _selectedItem : {},\n      _item: _item != null ? _item : {}\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, children))))));\n};\n\nvar _default = (0, _react.memo)((0, _react.forwardRef)(Select));\n\nexports.default = _default;","map":{"version":3,"sources":["Select.tsx"],"names":["unstyledSelecWebtStyles","width","height","appearance","WebkitAppearance","MozAppearance","SelectContext","React","onValueChange","selectedValue","_selectedItem","_item","Select","children","dropdownIcon","dropdownCloseIcon","dropdownOpenIcon","placeholder","accessibilityLabel","defaultValue","size","wrapperRef","props","selectProps","isDisabled","nativeID","_ref","themeProps","isOpen","setIsOpen","focusProps","isFocusVisible","hoverProps","isHovered","value","setValue","onChange","itemsList","label","child","selectedItemArray","item","selectedItem","variant","customDropdownIconProps","_actionSheetContent","newProps","borderProps","remainingProps","stylingProps","layoutProps","nonLayoutProps","rightIcon","commonInput","handleClose","Platform","e"],"mappings":"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","sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport type { ISelectProps } from './types';\nimport { Platform, View, Pressable } from 'react-native';\nimport { Actionsheet } from '../../composites/Actionsheet';\nimport Box from '../Box';\nimport { Input } from '../Input';\nimport { useFocusRing } from '@react-native-aria/focus';\nimport { useControllableState } from '../../../hooks';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { mergeRefs } from '../../../utils';\nimport { useFormControl } from '../../composites/FormControl';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport { ChevronDownIcon } from '../Icon/Icons';\nimport type { IButtonProps } from '../Button/types';\nimport { ScrollView } from '../../basic/ScrollView';\n\nconst unstyledSelecWebtStyles = {\n  width: '100%',\n  height: '100%',\n  appearance: 'none',\n  WebkitAppearance: 'none',\n  MozAppearance: 'none',\n};\n\nexport const SelectContext = React.createContext({\n  onValueChange: (() => {}) as any,\n  selectedValue: null as any,\n  _selectedItem: {} as IButtonProps,\n  _item: {} as IButtonProps,\n});\n\nconst Select = (\n  {\n    onValueChange,\n    selectedValue,\n    children,\n    dropdownIcon,\n    dropdownCloseIcon,\n    dropdownOpenIcon,\n    placeholder,\n    accessibilityLabel,\n    defaultValue,\n    size,\n    _item,\n    _selectedItem,\n    wrapperRef,\n    ...props\n  }: ISelectProps,\n  ref: any\n) => {\n  const selectProps = useFormControl({\n    isDisabled: props.isDisabled,\n    nativeID: props.nativeID,\n  });\n\n  const isDisabled = selectProps.disabled;\n\n  const _ref = React.useRef(null);\n  const themeProps = usePropsResolution('Input', { ...props, size });\n  let [isOpen, setIsOpen] = React.useState<boolean>(false);\n\n  const { focusProps, isFocusVisible } = useFocusRing();\n  const { hoverProps, isHovered } = useHover({ isDisabled }, _ref);\n\n  const [value, setValue] = useControllableState({\n    value: selectedValue,\n    defaultValue,\n    onChange: (newValue) => {\n      onValueChange && onValueChange(newValue);\n      setIsOpen(false);\n    },\n  });\n\n  let itemsList: Array<{ label: string; value: string }> = React.Children.map(\n    children,\n    (child: any) => {\n      return {\n        label: child.props.label,\n        value: child.props.value,\n      };\n    }\n  );\n\n  const selectedItemArray = itemsList.filter(\n    (item: any) => item.value === value\n  );\n  const selectedItem =\n    selectedItemArray && selectedItemArray.length ? selectedItemArray[0] : null;\n\n  const {\n    variant,\n    customDropdownIconProps,\n    _actionSheetContent,\n    ...newProps\n  } = usePropsResolution('Select', props);\n  const [borderProps, remainingProps] = extractInObject(newProps, [\n    ...stylingProps.border,\n  ]);\n  const [layoutProps, nonLayoutProps] = extractInObject(remainingProps, [\n    ...stylingProps.margin,\n    ...stylingProps.layout,\n    ...stylingProps.flexbox,\n    ...stylingProps.position,\n    ...stylingProps.background,\n  ]);\n\n  const rightIcon =\n    isOpen && dropdownOpenIcon ? (\n      dropdownOpenIcon\n    ) : !isOpen && dropdownCloseIcon ? (\n      dropdownCloseIcon\n    ) : dropdownIcon ? (\n      dropdownIcon\n    ) : (\n      <ChevronDownIcon {...customDropdownIconProps} />\n    );\n\n  const commonInput = (\n    <Input\n      aria-hidden={true}\n      importantForAccessibility=\"no\"\n      value={selectedItem?.label}\n      placeholder={placeholder}\n      editable={false}\n      focusable={false}\n      size={size}\n      variant={variant}\n      InputRightElement={rightIcon}\n      {...(isHovered ? themeProps._hover : {})}\n      {...nonLayoutProps}\n      {...borderProps}\n    />\n  );\n\n  const handleClose = () => setIsOpen(false);\n\n  return (\n    <Box\n      borderWidth={1}\n      borderColor=\"transparent\"\n      {...layoutProps}\n      borderRadius={themeProps.borderRadius}\n      {...(isFocusVisible ? themeProps._focus : {})}\n      ref={wrapperRef}\n    >\n      {Platform.OS === 'web' ? (\n        <>\n          <Box w=\"100%\" h=\"100%\" position=\"absolute\" opacity=\"0\" zIndex={1}>\n            <select\n              {...selectProps}\n              disabled={isDisabled}\n              {...focusProps}\n              {...hoverProps}\n              ref={mergeRefs([ref, _ref])}\n              //@ts-ignore\n              style={unstyledSelecWebtStyles}\n              onChange={(e) => {\n                setValue(e.target.value);\n              }}\n              value={value}\n              aria-label={placeholder}\n            >\n              {children}\n            </select>\n          </Box>\n          {commonInput}\n        </>\n      ) : (\n        <>\n          <Pressable\n            onPress={() => setIsOpen(true)}\n            disabled={isDisabled}\n            accessibilityLabel={accessibilityLabel}\n            accessibilityRole=\"button\"\n            ref={mergeRefs([ref, _ref])}\n          >\n            <View pointerEvents=\"none\">{commonInput}</View>\n          </Pressable>\n          <Actionsheet isOpen={isOpen} onClose={handleClose}>\n            <Actionsheet.Content {..._actionSheetContent}>\n              <ScrollView width=\"100%\">\n                <SelectContext.Provider\n                  value={{\n                    onValueChange: setValue,\n                    selectedValue: value,\n                    _selectedItem: _selectedItem ?? {},\n                    _item: _item ?? {},\n                  }}\n                >\n                  {children}\n                </SelectContext.Provider>\n              </ScrollView>\n            </Actionsheet.Content>\n          </Actionsheet>\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default memo(forwardRef(Select));\n"]},"metadata":{},"sourceType":"script"}