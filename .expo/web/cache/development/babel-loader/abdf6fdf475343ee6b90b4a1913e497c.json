{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Modal = require(\"../../composites/Modal\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _Context = require(\"../Modal/Context\");\n\nvar _Box = _interopRequireDefault(require(\"../../primitives/Box\"));\n\nvar _ActionSheetContext = require(\"./ActionSheetContext\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Actionsheet/ActionsheetContent.tsx\";\n\nvar ActionsheetContent = function ActionsheetContent(_ref, ref) {\n  var children = _ref.children,\n      props = (0, _objectWithoutProperties2.default)(_ref, [\"children\"]);\n\n  var _usePropsResolution = (0, _hooks.usePropsResolution)('ActionsheetContent', props),\n      _dragIndicator = _usePropsResolution._dragIndicator,\n      newProps = (0, _objectWithoutProperties2.default)(_usePropsResolution, [\"_dragIndicator\"]);\n\n  var _React$useContext = _react.default.useContext(_Context.ModalContext),\n      handleClose = _React$useContext.handleClose;\n\n  var _React$useContext2 = _react.default.useContext(_ActionSheetContext.ActionSheetContext),\n      hideDragIndicator = _React$useContext2.hideDragIndicator;\n\n  var pan = _react.default.useRef(new _reactNative.Animated.ValueXY()).current;\n\n  var sheetHeight = _react.default.useRef(0);\n\n  var panResponder = _react.default.useRef(_reactNative.PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(_evt, gestureState) {\n      return gestureState.dy > 15;\n    },\n    onPanResponderMove: function onPanResponderMove(e, gestureState) {\n      if (gestureState.dy > 0) {\n        _reactNative.Animated.event([null, {\n          dy: pan.y\n        }], {\n          useNativeDriver: false\n        })(e, gestureState);\n      }\n    },\n    onPanResponderRelease: function onPanResponderRelease(_e, gestureState) {\n      if (sheetHeight.current / 4 - gestureState.dy < 0) {\n        _reactNative.Animated.timing(pan, {\n          toValue: {\n            x: 0,\n            y: sheetHeight.current\n          },\n          duration: 150,\n          useNativeDriver: true\n        }).start(handleClose);\n      } else {\n        _reactNative.Animated.spring(pan, {\n          toValue: {\n            x: 0,\n            y: 0\n          },\n          overshootClamping: true,\n          useNativeDriver: true\n        }).start();\n      }\n    }\n  })).current;\n\n  return _react.default.createElement(_reactNative.Animated.View, {\n    style: {\n      transform: [{\n        translateY: pan.y\n      }],\n      width: '100%'\n    },\n    onLayout: function onLayout(event) {\n      var height = event.nativeEvent.layout.height;\n      sheetHeight.current = height;\n    },\n    pointerEvents: \"box-none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, !hideDragIndicator ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Box.default, (0, _extends2.default)({\n    py: 5\n  }, panResponder.panHandlers, {\n    collapsable: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }))) : null, _react.default.createElement(_Modal.Modal.Content, (0, _extends2.default)({}, newProps, {\n    ref: ref,\n    safeAreaBottom: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), !hideDragIndicator ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_Box.default, (0, _extends2.default)({\n    py: 5,\n    mt: -2\n  }, panResponder.panHandlers, {\n    width: \"100%\",\n    alignItems: \"center\",\n    collapsable: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_Box.default, (0, _extends2.default)({}, _dragIndicator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  })))) : null, children));\n};\n\nvar _default = (0, _react.memo)((0, _react.forwardRef)(ActionsheetContent));\n\nexports.default = _default;","map":{"version":3,"sources":["ActionsheetContent.tsx"],"names":["ActionsheetContent","children","props","_dragIndicator","newProps","handleClose","React","ModalContext","hideDragIndicator","ActionSheetContext","pan","Animated","sheetHeight","panResponder","PanResponder","onStartShouldSetPanResponder","onMoveShouldSetPanResponder","gestureState","onPanResponderMove","dy","useNativeDriver","onPanResponderRelease","toValue","x","y","duration","overshootClamping","transform","translateY","width","height","event"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { Modal } from '../../composites/Modal';\nimport type { IActionsheetContentProps } from './types';\nimport { usePropsResolution } from '../../../hooks';\nimport { Animated, PanResponder } from 'react-native';\nimport { ModalContext } from '../Modal/Context';\nimport Box from '../../primitives/Box';\nimport { ActionSheetContext } from './ActionSheetContext';\n\nconst ActionsheetContent = (\n  { children, ...props }: IActionsheetContentProps,\n  ref?: any\n) => {\n  const { _dragIndicator, ...newProps } = usePropsResolution(\n    'ActionsheetContent',\n    props\n  );\n  const { handleClose } = React.useContext(ModalContext);\n  const { hideDragIndicator } = React.useContext(ActionSheetContext);\n  let pan = React.useRef(new Animated.ValueXY()).current;\n  let sheetHeight = React.useRef(0);\n\n  const panResponder = React.useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onMoveShouldSetPanResponder: (_evt, gestureState) => {\n        return gestureState.dy > 15;\n      },\n      onPanResponderMove: (e, gestureState) => {\n        if (gestureState.dy > 0) {\n          Animated.event([null, { dy: pan.y }], {\n            useNativeDriver: false,\n          })(e, gestureState);\n        }\n      },\n      onPanResponderRelease: (_e, gestureState) => {\n        // If sheet is dragged 1/4th of it's height, close it\n        if (sheetHeight.current / 4 - gestureState.dy < 0) {\n          Animated.timing(pan, {\n            toValue: { x: 0, y: sheetHeight.current },\n            duration: 150,\n            useNativeDriver: true,\n          }).start(handleClose);\n        } else {\n          Animated.spring(pan, {\n            toValue: { x: 0, y: 0 },\n            overshootClamping: true,\n            useNativeDriver: true,\n          }).start();\n        }\n      },\n    })\n  ).current;\n\n  return (\n    <Animated.View\n      style={{\n        transform: [{ translateY: pan.y }],\n        width: '100%',\n      }}\n      onLayout={(event) => {\n        const { height } = event.nativeEvent.layout;\n        sheetHeight.current = height;\n      }}\n      pointerEvents=\"box-none\"\n    >\n      {!hideDragIndicator ? (\n        <>\n          {/* To increase the draggable area */}\n          <Box py={5} {...panResponder.panHandlers} collapsable={false} />\n        </>\n      ) : null}\n\n      <Modal.Content {...newProps} ref={ref} safeAreaBottom>\n        {!hideDragIndicator ? (\n          <>\n            {/* Hack. Fix later. Add -2 negative margin to remove the padding added by ActionSheetContent */}\n            <Box\n              py={5}\n              mt={-2}\n              {...panResponder.panHandlers}\n              width=\"100%\"\n              alignItems=\"center\"\n              collapsable={false}\n            >\n              <Box {..._dragIndicator} />\n            </Box>\n          </>\n        ) : null}\n\n        {children}\n      </Modal.Content>\n    </Animated.View>\n  );\n};\n\nexport default memo(forwardRef(ActionsheetContent));\n"]},"metadata":{},"sourceType":"script"}